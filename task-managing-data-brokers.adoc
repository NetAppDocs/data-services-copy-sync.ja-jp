---
sidebar: sidebar 
permalink: task-managing-data-brokers.html 
keywords: manage data brokers, manage data broker groups, data broker performance, data broker configuration, data broker removal, remove data broker, delete data broker, groups, data broker group, rename data broker group, add data broker, data broker cpu, data broker ram, data broker status, edit group name, change group name, modify group name 
summary: データ ブローカーは、ソースの場所からターゲットの場所にデータを同期します。作成する同期関係ごとにデータ ブローカーが必要です。新しいデータ ブローカーをグループに追加したり、データ ブローカーに関する情報を表示したりして、データ ブローカーを管理します。 
---
= NetApp Copy and Syncでデータブローカーグループを管理する
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
NetApp Copy and Syncのデータ ブローカー グループは、ソースの場所からターゲットの場所にデータを同期します。作成する同期関係ごとに、グループ内に少なくとも 1 つのデータ ブローカーが必要です。新しいデータ ブローカーをグループに追加したり、グループに関する情報を表示したりして、データ ブローカー グループを管理します。



== データブローカーグループの仕組み

データ ブローカー グループには、1 つ以上のデータ ブローカーを含めることができます。データ ブローカーをグループ化すると、同期関係のパフォーマンスが向上します。



=== グループは複数の関係を管理できる

データ ブローカー グループは、一度に 1 つ以上の同期関係を管理できます。

たとえば、次の 3 つの関係があるとします。

* 関係1はデータブローカーグループAによって管理されます
* 関係2はデータブローカーグループBによって管理されます
* 関係3はデータブローカーグループAによって管理されます


リレーションシップ 1 のパフォーマンスを高速化したいので、新しいデータ ブローカーをデータ ブローカー グループ A に追加します。グループ A は同期リレーションシップ 3 も管理しているため、リレーションシップの同期パフォーマンスも自動的に高速化されます。



=== グループ内のデータブローカーの数

多くの場合、単一のデータ ブローカーで同期関係のパフォーマンス要件を満たすことができます。そうでない場合は、グループにデータ ブローカーを追加することで同期のパフォーマンスを向上できます。ただし、まず同期パフォーマンスに影響を与える可能性のある他の要因を確認する必要があります。link:faq.html#how-many-data-brokers-are-required-in-a-group["複数のデータブローカーが必要な場合の判断方法について詳しくは、こちらをご覧ください。"] 。



== セキュリティに関する推奨事項

データ ブローカー マシンのセキュリティを確保するために、 NetApp次のことを推奨しています。

* SSHはX11転送を許可しない
* SSHはTCP接続転送を許可しない
* SSHはトンネルを許可しない
* SSHはクライアント環境変数を受け入れてはならない


これらのセキュリティ推奨事項は、データ ブローカー マシンへの不正な接続を防ぐのに役立ちます。



== グループに新しいデータブローカーを追加する

新しいデータ ブローカーを作成するには、いくつかの方法があります。

* 新しい同期関係を作成するとき
+
link:task-creating-relationships.html["同期関係を作成するときに新しいデータブローカーを作成する方法を学びます"] 。

* *データブローカーの管理*ページから*新しいデータブローカーの追加*を選択して、新しいグループにデータブローカーを作成します。
* *データブローカーの管理*ページから、既存のグループに新しいデータブローカーを作成します。


.始める前に
* 暗号化された同期関係を管理するグループにデータ ブローカーを追加することはできません。
* 既存のグループにデータ ブローカーを作成する場合、データ ブローカーはオンプレミスのデータ ブローカーまたは同じタイプのデータ ブローカーである必要があります。
+
たとえば、グループに AWS データブローカーが含まれている場合は、そのグループ内に AWS データブローカーまたはオンプレミスデータブローカーを作成できます。  Azure データ ブローカーと Google Cloud データ ブローカーは同じデータ ブローカー タイプではないため、作成できません。



.新しいグループにデータブローカーを作成する手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. *新しいデータブローカーの追加*を選択します。
. 指示に従ってデータ ブローカーを作成します。
+
ヘルプについては、次のページを参照してください。

+
** link:task-installing-aws.html["AWSでデータブローカーを作成する"]
** link:task-installing-azure.html["Azureでデータブローカーを作成する"]
** link:task-installing-gcp.html["Google Cloud でデータ ブローカーを作成する"]
** link:task-installing-linux.html["Linuxホストへのデータブローカーのインストール"]




.既存のグループにデータブローカーを作成する手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. アクション メニューを選択し、*データ ブローカーの追加* を選択します。
+
image:screenshot_sync_group_add.png["グループ内の各データ ブローカーで使用できるアクション メニューのスクリーンショット。"]

. 指示に従ってグループ内にデータ ブローカーを作成します。
+
ヘルプについては、次のページを参照してください。

+
** link:task-installing-aws.html["AWSでデータブローカーを作成する"]
** link:task-installing-azure.html["Azureでデータブローカーを作成する"]
** link:task-installing-gcp.html["Google Cloud でデータ ブローカーを作成する"]
** link:task-installing-linux.html["Linuxホストへのデータブローカーのインストール"]






== グループの名前を編集する

データ ブローカー グループの名前はいつでも変更できます。

.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. アクション メニューを選択し、*グループ名の編集*を選択します。
+
image:screenshot_sync_group_edit.gif["グループ内の各データ ブローカーで使用できるアクション メニューのスクリーンショット。"]

. 新しい名前を入力し、[保存] を選択します。


.結果
コピーと同期により、データ ブローカー グループの名前が更新されます。



== 統一された構成を設定する

同期プロセス中に同期関係でエラーが発生した場合、データ ブローカー グループの同時実行性を統合すると、同期エラーの数を減らすことができます。グループの設定を変更すると、転送速度が低下してパフォーマンスに影響する可能性があることに注意してください。

自分で設定を変更することはお勧めしません。構成をいつどのように変更するかについては、 NetAppに相談してください。

.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *データブローカーの管理*を選択します。
. データ ブローカー グループの設定アイコンを選択します。
+
image:screenshot_sync_group_settings.png["データ ブローカー グループの設定アイコンを示すスクリーンショット。"]

. 必要に応じて設定を変更し、「構成の統合」を選択します。
+
次の点に注意してください。

+
** 変更する設定を選択できます。4 つすべてを一度に変更する必要はありません。
** 新しい構成がデータ ブローカーに送信されると、データ ブローカーは自動的に再起動し、新しい構成を使用します。
** この変更が実行され、コピーと同期インターフェースに表示されるまでには、最大 1 分かかる場合があります。
** データ ブローカーが実行されていない場合、コピーと同期はデータ ブローカーと通信できないため、その構成は変更されません。データ ブローカーを再起動すると、構成が変更されます。
** 統合構成を設定すると、新しいデータ ブローカーは自動的に新しい構成を使用します。






== データブローカーをグループ間で移動する

ターゲット データ ブローカー グループのパフォーマンスを高速化する必要がある場合は、データ ブローカーをあるグループから別のグループに移動します。

たとえば、データ ブローカーが同期関係を管理しなくなった場合は、同期関係を管理している別のグループに簡単に移動できます。

.制限事項
* データ ブローカー グループが同期関係を管理していて、グループ内にデータ ブローカーが 1 つしかない場合は、そのデータ ブローカーを別のグループに移動することはできません。
* 暗号化された同期関係を管理するグループ間でデータ ブローカーを移動することはできません。
* 現在デプロイ中のデータ ブローカーを移動することはできません。


.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. 選択image:screenshot_sync_group_expand.gif["グループ内のデータ ブローカーのリストを展開できるボタンのスクリーンショット。"]グループ内のデータ ブローカーのリストを展開します。
. データ ブローカーのアクション メニューを選択し、*データ ブローカーの移動*を選択します。
+
image:screenshot_sync_group_remove.png["個々のデータ ブローカー グループごとに使用できるアクション メニューのスクリーンショット。"]

. 新しいデータ ブローカー グループを作成するか、既存のデータ ブローカー グループを選択します。
. *移動*を選択します。


.結果
コピーと同期は、データ ブローカーを新規または既存のデータ ブローカー グループに移動します。前のグループに他のデータ ブローカーが存在しない場合は、コピーと同期によってそれが削除されます。



== プロキシ設定を更新する

新しいプロキシ構成に関する詳細を追加するか、既存のプロキシ構成を編集して、データ ブローカーのプロキシ構成を更新します。

.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. 選択image:screenshot_sync_group_expand.gif["グループ内のデータ ブローカーのリストを展開できるボタンのスクリーンショット。"]グループ内のデータ ブローカーのリストを展開します。
. データ ブローカーのアクション メニューを選択し、*プロキシ構成の編集*を選択します。
. プロキシの詳細（ホスト名、ポート番号、ユーザー名、パスワード）を指定します。
. *更新*を選択します。


.結果
コピーと同期は、インターネット アクセスにプロキシ構成を使用するようにデータ ブローカーを更新します。



== データブローカーの構成を表示する

データ ブローカーの詳細を表示して、ホスト名、IP アドレス、使用可能な CPU や RAM などを確認することができます。

コピーと同期では、データ ブローカーに関する次の詳細が提供されます。

* 基本情報: インスタンス ID、ホスト名など
* ネットワーク: リージョン、ネットワーク、サブネット、プライベート IP など。
* ソフトウェア: Linux ディストリビューション、データ ブローカー バージョンなど。
* ハードウェア: CPUとRAM
* 構成: データブローカーの2種類のメインプロセス（スキャナと転送）の詳細
+

TIP: スキャナーはソースとターゲットをスキャンし、何をコピーするかを決定します。実際のコピーは譲渡者が行います。  NetApp の担当者は、これらの構成の詳細を使用して、パフォーマンスを最適化できるアクションを提案する場合があります。



.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. 選択image:screenshot_sync_group_expand.gif["グループ内のデータ ブローカーのリストを展開できるボタンのスクリーンショット。"]グループ内のデータ ブローカーのリストを展開します。
. 選択image:screenshot_sync_group_expand.gif["データ ブローカーの詳細を展開できるボタンのスクリーンショット。"]データ ブローカーの詳細を表示します。
+
image:screenshot_sync_data_broker_details.gif["データ ブローカーに関する情報のスクリーンショット。"]





== データブローカーの問題に対処する

コピーと同期では、問題のトラブルシューティングに役立つ各データ ブローカーのステータスが表示されます。

.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. ステータスが「不明」または「失敗」になっているデータ ブローカーを特定します。
+
image:screenshot_sync_broker_status.gif["データ ブローカーのステータスが「不明」である、コピーおよび同期のステータス表示のスクリーンショット。"]

. マウスオーバーしてimage:screenshot_sync_status_icon.gif["「情報」アイコン。"]失敗の理由を確認するにはアイコンをクリックしてください。
. 問題を修正してください。
+
たとえば、データ ブローカーがオフラインの場合は、データ ブローカーを再起動するだけで済む場合があります。また、最初のデプロイメントが失敗した場合は、データ ブローカーを削除する必要がある場合があります。





== グループからデータブローカーを削除する

データ ブローカーが不要になった場合、または最初のデプロイメントが失敗した場合は、グループからデータ ブローカーを削除することがあります。このアクションは、コピーと同期のレコードからデータ ブローカーのみを削除します。データ ブローカーと追加のクラウド リソースを手動で削除する必要があります。

.知っておくべきこと
* コピーと同期では、グループから最後のデータ ブローカーを削除すると、グループが削除されます。
* そのグループを使用する関係がある場合、グループから最後のデータ ブローカーを削除することはできません。


.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. 選択image:screenshot_sync_group_expand.gif["グループ内のデータ ブローカーのリストを展開できるボタンのスクリーンショット。"]グループ内のデータ ブローカーのリストを展開します。
. データ ブローカーのアクション メニューを選択し、*データ ブローカーの削除*を選択します。
+
image:screenshot_sync_group_remove.gif["個々のデータ ブローカー グループごとに使用できるアクション メニューのスクリーンショット。"]

. *データブローカーの削除*を選択します。


.結果
コピーと同期により、データ ブローカーがグループから削除されます。



== データブローカーグループを削除する

データ ブローカー グループが同期関係を管理しなくなった場合は、グループを削除すると、コピーと同期からすべてのデータ ブローカーが削除されます。

Copy and Sync によって削除されるデータ ブローカーは、Copy and Sync のレコードからのみ削除されます。クラウド プロバイダーと追加のクラウド リソースからデータ ブローカー インスタンスを手動で削除する必要があります。

.手順
. link:task-login-copyandsync.html["コピーと同期にログイン"] 。
. *同期 > データブローカーの管理*を選択します。
. アクション メニューを選択し、*グループの削除*を選択します。
+
image:screenshot_sync_group_add.png["グループ内の各データ ブローカーで使用できるアクション メニューのスクリーンショット。"]

. 確認するには、グループの名前を入力し、「*グループの削除*」を選択します。


.結果
コピーと同期により、データ ブローカーが削除され、グループが削除されます。
